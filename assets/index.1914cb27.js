import{c as St,S as lt,C as st,u as ft,i as yt,a as Tt,b as Mt,d as It,e as Ct,Z as Et,f as bt,r as kt,g as Ft,h as Rt,j as ut,k as At,l as Pt,m as Ot}from"./index.md.74510f62.js";import"./plugin-vue_export-helper.ef6027a8.js";function et(u,o){return o=o||{},St(u,null,null,o.state!=="normal")}function zt(u){var o=lt.extend(u);return lt.registerClass(o),o}function Dt(u){var o=st.extend(u);return st.registerClass(o),o}ft([yt,Tt]);ft(Mt);zt({type:"series.wordCloud",visualStyleAccessPath:"textStyle",visualStyleMapper:function(u){return{fill:u.get("color")}},visualDrawType:"fill",optionUpdated:function(){var u=this.option;u.gridSize=Math.max(Math.floor(u.gridSize),4)},getInitialData:function(u,o){var i=It(u.data,{coordDimensions:["value"]}),t=new Ct(i,this);return t.initData(u.data),t},defaultOption:{maskImage:null,shape:"circle",left:"center",top:"center",width:"70%",height:"80%",sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,textStyle:{fontWeight:"normal"}}});Dt({type:"wordCloud",render:function(u,o,i){var t=this.group;t.removeAll();var f=u.getData(),g=u.get("gridSize");u.layoutInstance.ondraw=function(a,T,z,k){var D=f.getItemModel(z),P=D.getModel("textStyle"),v=new Et({style:et(P),scaleX:1/k.info.mu,scaleY:1/k.info.mu,x:(k.gx+k.info.gw/2)*g,y:(k.gy+k.info.gh/2)*g,rotation:k.rot});v.setStyle({x:k.info.fillTextOffsetX,y:k.info.fillTextOffsetY+T*.5,text:a,verticalAlign:"middle",fill:f.getItemVisual(z,"style").fill,fontSize:T}),t.add(v),f.setItemGraphicEl(z,v),v.ensureState("emphasis").style=et(D.getModel(["emphasis","textStyle"]),{state:"emphasis"}),v.ensureState("blur").style=et(D.getModel(["blur","textStyle"]),{state:"blur"}),bt(v,D.get(["emphasis","focus"]),D.get(["emphasis","blurScope"])),v.stateTransition={duration:u.get("animation")?u.get(["stateAnimation","duration"]):0,easing:u.get(["stateAnimation","easing"])},v.__highDownDispatcher=!0},this._model=u},remove:function(){this.group.removeAll(),this._model.layoutInstance.dispose()},dispose:function(){this._model.layoutInstance.dispose()}});/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2013 Tim Chien
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var i=[void 0],t="zero-timeout-message",f=function(a){var T=i.length;return i.push(a),window.postMessage(t+T.toString(36),"*"),T};return window.addEventListener("message",function(a){if(!(typeof a.data!="string"||a.data.substr(0,t.length)!==t)){a.stopImmediatePropagation();var T=parseInt(a.data.substr(t.length),36);!i[T]||(i[T](),i[T]=void 0)}},!0),window.clearImmediate=function(a){!i[a]||(i[a]=void 0)},f}()||function(i){window.setTimeout(i,0)}}());window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(i){window.clearTimeout(i)}}());var rt=function(){var o=document.createElement("canvas");if(!o||!o.getContext)return!1;var i=o.getContext("2d");return!(!i.getImageData||!i.fillText||!Array.prototype.some||!Array.prototype.push)}(),at=function(){if(!!rt){for(var o=document.createElement("canvas").getContext("2d"),i=20,t,f;i;){if(o.font=i.toString(10)+"px sans-serif",o.measureText("\uFF37").width===t&&o.measureText("m").width===f)return i+1;t=o.measureText("\uFF37").width,f=o.measureText("m").width,i--}return 0}}(),Wt=function(o){for(var i,t,f=o.length;f;i=Math.floor(Math.random()*f),t=o[--f],o[f]=o[i],o[i]=t);return o},Z=function(o,i){if(!rt)return;Array.isArray(o)||(o=[o]),o.forEach(function(c,e){if(typeof c=="string"){if(o[e]=document.getElementById(c),!o[e])throw"The element id specified is not found."}else if(!c.tagName&&!c.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var t={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,layoutAnimation:!0,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(i)for(var f in i)f in t&&(t[f]=i[f]);if(typeof t.weightFactor!="function"){var g=t.weightFactor;t.weightFactor=function(e){return e*g}}if(typeof t.shape!="function")switch(t.shape){case"circle":default:t.shape="circle";break;case"cardioid":t.shape=function(e){return 1-Math.sin(e)};break;case"diamond":case"square":t.shape=function(e){var r=e%(2*Math.PI/4);return 1/(Math.cos(r)+Math.sin(r))};break;case"triangle-forward":t.shape=function(e){var r=e%(2*Math.PI/3);return 1/(Math.cos(r)+Math.sqrt(3)*Math.sin(r))};break;case"triangle":case"triangle-upright":t.shape=function(e){var r=(e+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(r)+Math.sqrt(3)*Math.sin(r))};break;case"pentagon":t.shape=function(e){var r=(e+.955)%(2*Math.PI/5);return 1/(Math.cos(r)+.726543*Math.sin(r))};break;case"star":t.shape=function(e){var r=(e+.955)%(2*Math.PI/10);return(e+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-r)+3.07768*Math.sin(2*Math.PI/10-r)):1/(Math.cos(r)+3.07768*Math.sin(r))};break}t.gridSize=Math.max(Math.floor(t.gridSize),4);var a=t.gridSize,T=a-t.maskGapWidth,z=Math.abs(t.maxRotation-t.minRotation),k=Math.min(t.maxRotation,t.minRotation),D=t.rotationStep,P,v,F,C,O,_,G;function it(c,e){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(e-c)+c).toFixed()+"%)"}switch(t.color){case"random-dark":G=function(){return it(10,50)};break;case"random-light":G=function(){return it(50,90)};break;default:typeof t.color=="function"&&(G=t.color);break}var q=null;typeof t.classes=="function"&&(q=t.classes);var V=!1,N=[],U,nt=function(e){var r=e.currentTarget,n=r.getBoundingClientRect(),s,l;e.touches?(s=e.touches[0].clientX,l=e.touches[0].clientY):(s=e.clientX,l=e.clientY);var h=s-n.left,d=l-n.top,p=Math.floor(h*(r.width/n.width||1)/a),S=Math.floor(d*(r.height/n.height||1)/a);return N[p][S]},ot=function(e){var r=nt(e);if(U!==r){if(U=r,!r){t.hover(void 0,void 0,e);return}t.hover(r.item,r.dimension,e)}},$=function(e){var r=nt(e);!r||(t.click(r.item,r.dimension,e),e.preventDefault())},J=[],dt=function(e){if(J[e])return J[e];var r=e*8,n=r,s=[];for(e===0&&s.push([C[0],C[1],0]);n--;){var l=1;t.shape!=="circle"&&(l=t.shape(n/r*2*Math.PI)),s.push([C[0]+e*l*Math.cos(-n/r*2*Math.PI),C[1]+e*l*Math.sin(-n/r*2*Math.PI)*t.ellipticity,n/r*2*Math.PI])}return J[e]=s,s},K=function(){return t.abortThreshold>0&&new Date().getTime()-_>t.abortThreshold},ht=function(){return t.rotateRatio===0||Math.random()>t.rotateRatio?0:z===0?k:k+Math.round(Math.random()*z/D)*D},ct=function(e,r,n){var s=t.weightFactor(r);if(s<=t.minSize)return!1;var l=1;s<at&&(l=function(){for(var tt=2;tt*s<at;)tt+=2;return tt}());var h=document.createElement("canvas"),d=h.getContext("2d",{willReadFrequently:!0});d.font=t.fontWeight+" "+(s*l).toString(10)+"px "+t.fontFamily;var p=d.measureText(e).width/l,S=Math.max(s*l,d.measureText("m").width,d.measureText("\uFF37").width)/l,x=p+S*2,w=S*3,M=Math.ceil(x/a),E=Math.ceil(w/a);x=M*a,w=E*a;var R=-p/2,y=-S*.4,I=Math.ceil((x*Math.abs(Math.sin(n))+w*Math.abs(Math.cos(n)))/a),b=Math.ceil((x*Math.abs(Math.cos(n))+w*Math.abs(Math.sin(n)))/a),m=b*a,A=I*a;h.setAttribute("width",m),h.setAttribute("height",A),d.scale(1/l,1/l),d.translate(m*l/2,A*l/2),d.rotate(-n),d.font=t.fontWeight+" "+(s*l).toString(10)+"px "+t.fontFamily,d.fillStyle="#000",d.textBaseline="middle",d.fillText(e,R*l,(y+s*.5)*l);var W=d.getImageData(0,0,m,A).data;if(K())return!1;for(var L=[],Y=b,X,Q,j,B=[I/2,b/2,I/2,b/2];Y--;)for(X=I;X--;){j=a;t:for(;j--;)for(Q=a;Q--;)if(W[((X*a+j)*m+(Y*a+Q))*4+3]){L.push([Y,X]),Y<B[3]&&(B[3]=Y),Y>B[1]&&(B[1]=Y),X<B[0]&&(B[0]=X),X>B[2]&&(B[2]=X);break t}}return{mu:l,occupied:L,bounds:B,gw:b,gh:I,fillTextOffsetX:R,fillTextOffsetY:y,fillTextWidth:p,fillTextHeight:S,fontSize:s}},vt=function(e,r,n,s,l){for(var h=l.length;h--;){var d=e+l[h][0],p=r+l[h][1];if(d>=v||p>=F||d<0||p<0){if(!t.drawOutOfBound)return!1;continue}if(!P[d][p])return!1}return!0},gt=function(e,r,n,s,l,h,d,p,S){var x=n.fontSize,w;G?w=G(s,l,x,h,d):w=t.color;var M;q?M=q(s,l,x,h,d):M=t.classes;var E=n.bounds;(e+E[3])*a,(r+E[0])*a,(E[1]-E[3]+1)*a,(E[2]-E[0]+1)*a,o.forEach(function(R){if(R.getContext){var y=R.getContext("2d"),I=n.mu;y.save(),y.scale(1/I,1/I),y.font=t.fontWeight+" "+(x*I).toString(10)+"px "+t.fontFamily,y.fillStyle=w,y.translate((e+n.gw/2)*a*I,(r+n.gh/2)*a*I),p!==0&&y.rotate(-p),y.textBaseline="middle",y.fillText(s,n.fillTextOffsetX*I,(n.fillTextOffsetY+x*.5)*I),y.restore()}else{var b=document.createElement("span"),m="";m="rotate("+-p/Math.PI*180+"deg) ",n.mu!==1&&(m+="translateX(-"+n.fillTextWidth/4+"px) scale("+1/n.mu+")");var A={position:"absolute",display:"block",font:t.fontWeight+" "+x*n.mu+"px "+t.fontFamily,left:(e+n.gw/2)*a+n.fillTextOffsetX+"px",top:(r+n.gh/2)*a+n.fillTextOffsetY+"px",width:n.fillTextWidth+"px",height:n.fillTextHeight+"px",lineHeight:x+"px",whiteSpace:"nowrap",transform:m,webkitTransform:m,msTransform:m,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};w&&(A.color=w),b.textContent=s;for(var W in A)b.style[W]=A[W];if(S)for(var L in S)b.setAttribute(L,S[L]);M&&(b.className+=M),R.appendChild(b)}})},mt=function(e,r,n,s,l){if(!(e>=v||r>=F||e<0||r<0)){if(P[e][r]=!1,n){var h=o[0].getContext("2d");h.fillRect(e*a,r*a,T,T)}V&&(N[e][r]={item:l,dimension:s})}},wt=function(e,r,n,s,l,h){var d=l.occupied,p=t.drawMask,S;p&&(S=o[0].getContext("2d"),S.save(),S.fillStyle=t.maskColor);var x;if(V){var w=l.bounds;x={x:(e+w[3])*a,y:(r+w[0])*a,w:(w[1]-w[3]+1)*a,h:(w[2]-w[0]+1)*a}}for(var M=d.length;M--;){var E=e+d[M][0],R=r+d[M][1];E>=v||R>=F||E<0||R<0||mt(E,R,p,x,h)}p&&S.restore()},pt=function(e){var r,n,s;Array.isArray(e)?(r=e[0],n=e[1]):(r=e.word,n=e.weight,s=e.attributes);var l=ht(),h=ct(r,n,l);if(!h||K())return!1;if(!t.drawOutOfBound){var d=h.bounds;if(d[1]-d[3]+1>v||d[2]-d[0]+1>F)return!1}for(var p=O+1,S=function(E){var R=Math.floor(E[0]-h.gw/2),y=Math.floor(E[1]-h.gh/2),I=h.gw,b=h.gh;return vt(R,y,I,b,h.occupied)?(gt(R,y,h,r,n,O-p,E[2],l,s),wt(R,y,I,b,h,e),{gx:R,gy:y,rot:l,info:h}):!1};p--;){var x=dt(O-p);t.shuffle&&(x=[].concat(x),Wt(x));for(var w=0;w<x.length;w++){var M=S(x[w]);if(M)return M}}return null},H=function(e,r,n){if(r)return!o.some(function(s){var l=document.createEvent("CustomEvent");return l.initCustomEvent(e,!0,r,n||{}),!s.dispatchEvent(l)},this);o.forEach(function(s){var l=document.createEvent("CustomEvent");l.initCustomEvent(e,!0,r,n||{}),s.dispatchEvent(l)},this)},xt=function(){var e=o[0];if(e.getContext)v=Math.ceil(e.width/a),F=Math.ceil(e.height/a);else{var r=e.getBoundingClientRect();v=Math.ceil(r.width/a),F=Math.ceil(r.height/a)}if(!!H("wordcloudstart",!0)){C=t.origin?[t.origin[0]/a,t.origin[1]/a]:[v/2,F/2],O=Math.floor(Math.sqrt(v*v+F*F)),P=[];var n,s,l;if(!e.getContext||t.clearCanvas)for(o.forEach(function(m){if(m.getContext){var A=m.getContext("2d");A.fillStyle=t.backgroundColor,A.clearRect(0,0,v*(a+1),F*(a+1)),A.fillRect(0,0,v*(a+1),F*(a+1))}else m.textContent="",m.style.backgroundColor=t.backgroundColor,m.style.position="relative"}),n=v;n--;)for(P[n]=[],s=F;s--;)P[n][s]=!0;else{var h=document.createElement("canvas").getContext("2d");h.fillStyle=t.backgroundColor,h.fillRect(0,0,1,1);var d=h.getImageData(0,0,1,1).data,p=e.getContext("2d").getImageData(0,0,v*a,F*a).data;n=v;for(var S,x;n--;)for(P[n]=[],s=F;s--;){x=a;t:for(;x--;)for(S=a;S--;)for(l=4;l--;)if(p[((s*a+x)*v*a+(n*a+S))*4+l]!==d[l]){P[n][s]=!1;break t}P[n][s]!==!1&&(P[n][s]=!0)}p=h=d=void 0}if(t.hover||t.click){for(V=!0,n=v+1;n--;)N[n]=[];t.hover&&e.addEventListener("mousemove",ot),t.click&&(e.addEventListener("click",$),e.addEventListener("touchstart",$),e.addEventListener("touchend",function(m){m.preventDefault()}),e.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),e.addEventListener("wordcloudstart",function m(){e.removeEventListener("wordcloudstart",m),e.removeEventListener("mousemove",ot),e.removeEventListener("click",$),U=void 0})}l=0;var w,M,E=!0;t.layoutAnimation?t.wait!==0?(w=window.setTimeout,M=window.clearTimeout):(w=window.setImmediate,M=window.clearImmediate):(w=function(m){m()},M=function(){E=!1});var R=function(A,W){o.forEach(function(L){L.addEventListener(A,W)},this)},y=function(A,W){o.forEach(function(L){L.removeEventListener(A,W)},this)},I=function m(){y("wordcloudstart",m),M(b)};R("wordcloudstart",I);var b=(t.layoutAnimation?w:setTimeout)(function m(){if(!!E){if(l>=t.list.length){M(b),H("wordcloudstop",!1),y("wordcloudstart",I);return}_=new Date().getTime();var A=pt(t.list[l]),W=!H("wordclouddrawn",!0,{item:t.list[l],drawn:A});if(K()||W){M(b),t.abort(),H("wordcloudabort",!1),H("wordcloudstop",!1),y("wordcloudstart",I);return}l++,b=w(m,t.wait)}},t.wait)}};xt()};Z.isSupported=rt;Z.minFontSize=at;if(!Z.isSupported)throw new Error("Sorry your browser not support wordCloud");function Lt(u){for(var o=u.getContext("2d"),i=o.getImageData(0,0,u.width,u.height),t=o.createImageData(i),f=0,g=0,a=0;a<i.data.length;a+=4){var T=i.data[a+3];if(T>128){var z=i.data[a]+i.data[a+1]+i.data[a+2];f+=z,++g}}for(var k=f/g,a=0;a<i.data.length;a+=4){var z=i.data[a]+i.data[a+1]+i.data[a+2],T=i.data[a+3];T<128||z>k?(t.data[a]=0,t.data[a+1]=0,t.data[a+2]=0,t.data[a+3]=0):(t.data[a]=255,t.data[a+1]=255,t.data[a+2]=255,t.data[a+3]=255)}o.putImageData(t,0,0)}kt(function(u,o){u.eachSeriesByType("wordCloud",function(i){var t=Pt(i.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()}),f=i.getData(),g=document.createElement("canvas");g.width=t.width,g.height=t.height;var a=g.getContext("2d"),T=i.get("maskImage");if(T)try{a.drawImage(T,0,0,g.width,g.height),Lt(g)}catch(C){console.error("Invalid mask image"),console.error(C.toString())}var z=i.get("sizeRange"),k=i.get("rotationRange"),D=f.getDataExtent("value"),P=Math.PI/180,v=i.get("gridSize");Z(g,{list:f.mapArray("value",function(C,O){var _=f.getItemModel(O);return[f.getName(O),_.get("textStyle.fontSize",!0)||Ot(C,D,z),O]}).sort(function(C,O){return O[1]-C[1]}),fontFamily:i.get("textStyle.fontFamily")||i.get("emphasis.textStyle.fontFamily")||u.get("textStyle.fontFamily"),fontWeight:i.get("textStyle.fontWeight")||i.get("emphasis.textStyle.fontWeight")||u.get("textStyle.fontWeight"),gridSize:v,ellipticity:t.height/t.width,minRotation:k[0]*P,maxRotation:k[1]*P,clearCanvas:!T,rotateRatio:1,rotationStep:i.get("rotationStep")*P,drawOutOfBound:i.get("drawOutOfBound"),layoutAnimation:i.get("layoutAnimation"),shuffle:!1,shape:i.get("shape")});function F(C){var O=C.detail.item;C.detail.drawn&&i.layoutInstance.ondraw&&(C.detail.drawn.gx+=t.x/v,C.detail.drawn.gy+=t.y/v,i.layoutInstance.ondraw(O[0],O[1],O[2],C.detail.drawn))}g.addEventListener("wordclouddrawn",F),i.layoutInstance&&i.layoutInstance.dispose(),i.layoutInstance={ondraw:null,dispose:function(){g.removeEventListener("wordclouddrawn",F),g.addEventListener("wordclouddrawn",function(C){C.preventDefault()})}}})});Ft(function(u){var o=(u||{}).series;!Rt(o)&&(o=o?[o]:[]);var i=["shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];ut(o,function(f){if(f&&f.type==="wordCloud"){var g=f.textStyle||{};t(g.normal),t(g.emphasis)}});function t(f){f&&ut(i,function(g){f.hasOwnProperty(g)&&(f["text"+At(g)]=f[g])})}});
